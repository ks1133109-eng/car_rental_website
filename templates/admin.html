<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel | DriveX</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="admin-layout">
        <div class="sidebar">
            <div class="logo" style="color: white; margin-bottom: 40px; font-size: 1.5rem; font-weight: bold;">
                <i class="fas fa-car-side"></i> Drive<span>X</span> Admin
            </div>
            <a href="#" class="sidebar-link active"><i class="fas fa-chart-pie"></i> Dashboard</a>
            <a href="#" class="sidebar-link"><i class="fas fa-car"></i> Manage Cars</a>
            <a href="#" class="sidebar-link"><i class="fas fa-calendar"></i> Bookings</a>
            <a href="{{ url_for('logout') }}" class="sidebar-link" style="margin-top: auto; color: #ff6b6b;">
                <i class="fas fa-sign-out-alt"></i> Logout
            </a>
        </div>

        <div class="admin-content">
            <h2 style="margin-bottom: 30px;">Dashboard Overview</h2>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 40px;">
                <div class="stat-card">
                    <div style="color: var(--gray);">Total Fleet</div>
                    <div style="font-size: 1.5rem; font-weight: 700;">{{ stats.total_fleet }} Cars</div>
                </div>
                <div class="stat-card">
                    <div style="color: var(--gray);">Total Revenue</div>
                    <div style="font-size: 1.5rem; font-weight: 700; color: #28a745;">₹{{ stats.revenue }}</div>
                </div>
                <div class="stat-card">
                    <div style="color: var(--gray);">Active Bookings</div>
                    <div style="font-size: 1.5rem; font-weight: 700; color: orange;">{{ stats.active_bookings }}</div>
                </div>
            </div>

            <h3>Fleet Status</h3>
            <div style="background: white; border-radius: 12px; overflow: hidden; margin-top: 20px;">
                <table style="width: 100%; border-collapse: collapse;">
                    <tr style="background: #f8f9fa; text-align: left; border-bottom: 2px solid #eee;">
                        <th style="padding: 15px;">Vehicle</th>
                        <th>Type</th>
                        <th>Price</th>
                        <th>Status</th>
                    </tr>
                    {% for car in cars %}
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 15px; display: flex; align-items: center; gap: 10px;">
                            <img src="{{ car.image_url }}" style="width: 50px; height: 35px; object-fit: cover; border-radius: 4px;">
                            <strong>{{ car.name }}</strong>
                        </td>
                        <td>{{ car.category }}</td>
                        <td>₹{{ car.price_per_hr }}/hr</td>
                        <td>
                            <span style="background: #d4edda; color: #155724; padding: 4px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: bold;">Available</span>
                        </td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
                        <h3 style="margin-top: 40px;">Registered Users</h3>
            <div style="background: white; border-radius: 12px; overflow: hidden; margin-top: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);">
                <table style="width: 100%; border-collapse: collapse;">
                    <tr style="background: #f8f9fa; text-align: left; border-bottom: 2px solid #eee;">
                        <th style="padding: 15px;">User ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Role</th>
                    </tr>
                    {% for user in users %}
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 15px; color: #888;">#{{ user.id }}</td>
                        <td><strong>{{ user.name }}</strong></td>
                        <td>{{ user.email }}</td>
                        <td>
                            {% if user.is_admin %}
                                <span style="background: #e2e8f0; color: #2d3748; padding: 4px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: bold;">Admin</span>
                            {% else %}
                                <span style="background: #ebf8ff; color: #3182ce; padding: 4px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: bold;">Customer</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    </div>
</body>
</html>
